#!/bin/bash
echo '3dANOVA3 -DAFNI_FLOATIZE=YES -type 5 -alevels 2 -blevels 2 -clevels 37 \' > 3dANOVA2.sh

# add healthy subjects
count=1
while read line; do
    echo '    -dset 1 1 '${count} ${line}'_im_glm_1stlvl.nii[20] \' >> 3dANOVA2.sh
    echo '    -dset 1 2 '${count} ${line}'_ob_glm_1stlvl.nii[20] \' >> 3dANOVA2.sh
    count=$((count+1))
done < im-hc-subset.csv

# add schizophrenia subjects
count=1
while read line; do
    echo '    -dset 2 1 '${count} ${line}'_im_glm_1stlvl.nii[20] \' >> 3dANOVA2.sh
    echo '    -dset 2 2 '${count} ${line}'_ob_glm_1stlvl.nii[20] \' >> 3dANOVA2.sh
    count=$((count+1))
done < im-sc.csv

echo '-fa group -fb cond -fab groupXcond \' >> 3dANOVA2.sh
echo '-acontr 1 0 HC -acontr 0 1 SC -bcontr 1 0 IM -bcontr 0 1 OB \' >> 3dANOVA2.sh
echo '-acontr 1 -1 HCvsSC -bcontr 1 -1 IMvsOB \' >> 3dANOVA2.sh
echo '-Abcontr 1 : 1 -1 IMvsOB_HC -Abcontr 2 : 1 -1 IMvsOB_SC \' >> 3dANOVA2.sh
echo '-aBcontr 1 -1 : 1 HCvsSC_IM -aBcontr 1 -1 : 2 HCvsSC_OB \' >> 3dANOVA2.sh
echo '-aBcontr 1  0 : 1 HC_IM -aBcontr 0  1 : 1 SC_IM \' >> 3dANOVA2.sh
echo '-aBcontr 1  0 : 2 HC_OB -aBcontr 0  1 : 2 SC_OB \' >> 3dANOVA2.sh
echo '-bucket ANOVA.nii.gz' >> 3dANOVA2.sh

