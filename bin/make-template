#!/usr/bin/env R

database <- read.csv('assets/database.csv')
dat <- subset(database, database$dx=='hc')
m2 <- median(dat$Part2_TotalCorrect)
m3 <- median(dat$Part3_TotalCorrect)

d2 <- abs(dat$Part2_TotalCorrect - m2)
d3 <- abs(dat$Part3_TotalCorrect - m3)
dat$d <- d2 + d3

n <- nrow(dat)
dat <- dat[order(d), ]

# create template, test data
template <- dat[1:8, ]
test <- dat[9:n, ]

# write out a list of the template subjects
write.table(template$ID, 'assets/template.csv', row.names=FALSE)

# write out the remaining healthy controls
write.table(test$ID, 'assets/test.csv', row.names=FALSE)

